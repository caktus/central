apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    kompose.cmd: kompose convert -f docker-compose.helm.yml -c
    kompose.version: 1.31.2 (HEAD)
  creationTimestamp: null
  labels:
    io.kompose.service: service
  name: service
spec:
  replicas: 1
  selector:
    matchLabels:
      io.kompose.service: service
  strategy:
    type: Recreate
  template:
    metadata:
      annotations:
        kompose.cmd: kompose convert -f docker-compose.helm.yml -c
        kompose.version: 1.31.2 (HEAD)
      creationTimestamp: null
      labels:
        io.kompose.network/central-default: "true"
        io.kompose.service: service
    spec:
      containers:
        - args:
            - wait-for-it
            - postgres14:5432
            - --
            - ./start-odk.sh
          env:
            - name: DB_HOST
              value: postgres14
            - name: DB_NAME
              value: odk
            - name: DB_PASSWORD
              value: odk
            - name: DB_SSL
              value: "null"
            - name: DB_USER
              value: odk
            - name: DOMAIN
            - name: EMAIL_FROM
              value: no-reply@
            - name: EMAIL_HOST
              value: mail
            - name: EMAIL_IGNORE_TLS
              value: "true"
            - name: EMAIL_PASSWORD
            - name: EMAIL_PORT
              value: "25"
            - name: EMAIL_SECURE
              value: "false"
            - name: EMAIL_USER
            - name: HTTPS_PORT
              value: "443"
            - name: NODE_OPTIONS
            - name: OIDC_CLIENT_ID
            - name: OIDC_CLIENT_SECRET
            - name: OIDC_ENABLED
              value: "false"
            - name: OIDC_ISSUER_URL
            - name: SENTRY_KEY
              value: 3cf75f54983e473da6bd07daddf0d2ee
            - name: SENTRY_ORG_SUBDOMAIN
              value: o130137
            - name: SENTRY_PROJECT
              value: "1298632"
            - name: SYSADMIN_EMAIL
          image: service
          name: service
          ports:
            - containerPort: 8383
              protocol: TCP
          resources: {}
          volumeMounts:
            - mountPath: /etc/secrets
              name: secrets
            - mountPath: /data/transfer
              name: service-claim1
      restartPolicy: Always
      volumes:
        - name: secrets
          persistentVolumeClaim:
            claimName: secrets
        - name: service-claim1
          persistentVolumeClaim:
            claimName: service-claim1
status: {}
